

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Metrics &mdash; sam 0.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Visualization" href="visualization.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> sam
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="project.html">Project specific information</a></li>
<li class="toctree-l1"><a class="reference internal" href="general_documents.html">General documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_engineering.html">Feature Engineering</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-sam.metrics.incident_recall">Incident recall</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sam</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Metrics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/metrics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="metrics">
<span id="id1"></span><h1>Metrics<a class="headerlink" href="#metrics" title="Permalink to this headline">¶</a></h1>
<p>This is the documentation for Metrics functions.</p>
<div class="section" id="module-sam.metrics.incident_recall">
<span id="incident-recall"></span><h2>Incident recall<a class="headerlink" href="#module-sam.metrics.incident_recall" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sam.metrics.incident_recall.incident_recall">
<code class="descclassname">sam.metrics.incident_recall.</code><code class="descname">incident_recall</code><span class="sig-paren">(</span><em>y_true</em>, <em>y_pred</em>, <em>y_incidents</em>, <em>range_pred=(0</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sam/metrics/incident_recall.html#incident_recall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sam.metrics.incident_recall.incident_recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Given y_true, y_pred, y_incidents and a prediction range,
see what percentage of incidents in y_incidents was positively
predicted in y_pred, within window range_pred.</p>
<p>For use in a make_scorer, e.g.
make_scorer(incident_recall, y_incidents=df[‘incidents’], range_pred=(1,5))</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>y_true</strong> <span class="classifier-delimiter">:</span> <span class="classifier">1d array-like, or label indicator array / sparse matrix</span></dt>
<dd><p class="first last">Ground truth (correct) labels.</p>
</dd>
<dt><strong>y_pred</strong> <span class="classifier-delimiter">:</span> <span class="classifier">1d array-like, or label indicator array / sparse matrix</span></dt>
<dd><p class="first last">Predicted labels, as returned by a classifier.</p>
</dd>
<dt><strong>y_incidents</strong> <span class="classifier-delimiter">:</span> <span class="classifier">1d array-like, or label indicator array / sparse matrix</span></dt>
<dd><p class="first last">Incidents that we want to predict with the classifier within window range_pred</p>
</dd>
<dt><strong>range_pred</strong> <span class="classifier-delimiter">:</span> <span class="classifier">tuple of int, optional (default = (0,0))</span></dt>
<dd><p class="first last">length of two: (start prediction window, end prediction window)
If we want to predict an incidents 5 to 1 rows in advance, this will be (1,5)</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>result</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of incidents that was positively predicted</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sam.metrics.incident_recall.make_incident_recall_scorer">
<code class="descclassname">sam.metrics.incident_recall.</code><code class="descname">make_incident_recall_scorer</code><span class="sig-paren">(</span><em>range_pred=(0</em>, <em>0)</em>, <em>colname='incident'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sam/metrics/incident_recall.html#make_incident_recall_scorer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sam.metrics.incident_recall.make_incident_recall_scorer" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around incident_recall_score, to make it an actual sklearn scorer.
This works by obtaining the ‘incident’ column from the data itself. This
column name is configurable. This scorer does need the incident column
to be present, which means by default it will be used in training the model.
If this is not desired, a custom model will have to be made that deletes
this variable before fitting/predicting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>range_pred</strong> <span class="classifier-delimiter">:</span> <span class="classifier">tuple of int, optional (default = (0,0))</span></dt>
<dd><p class="first last">length of two: (start prediction window, end prediction window)
Passed through to incident_recall</p>
</dd>
<dt><strong>colname</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string, optional (default = “indicent”)</span></dt>
<dd><p class="first last">The column name that is given to incident_recall as incidents
we want to predict</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>scorer</strong> <span class="classifier-delimiter">:</span> <span class="classifier">a function that acts as a sklearn scorer object.</span></dt>
<dd><p class="first last">signature is scorer(clf, X, y), where clf is a fit model,
X is test data, and y is the ground truth for the test data</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="visualization.html" class="btn btn-neutral float-right" title="Visualization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2019, Sebastiaan, Tim, Fenno, Rutger

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>